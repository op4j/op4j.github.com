<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at May 19, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>op4j: bending the Java spoon - Working with lists</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120519" />
    <meta http-equiv="Content-Language" content="en" />
                                                    
<script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script>
                                                        
<script type="text/javascript">try {
          var pageTracker = _gat._getTracker("UA-1276954-6");
          pageTracker._trackPageview();
        } catch(err) {}</script>
                      
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="./" id="bannerLeft">
                                                <img src="images/op4j_logo.png" alt="op4j: bending the Java spoon" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 19 May 2012</span>
                  &nbsp;| <span id="projectVersion">Version: 1.2</span>
                      </div>
            <div class="xright">                    <a href="index.html" title="Main">Main</a>
            |
                        <a href="download.html" title="Download">Download</a>
            |
                        <a href="http://www.bendingthejavaspoon.com" class="externalLink" title="Example Recipes Blog">Example Recipes Blog</a>
            |
                        <a href="https://github.com/op4j/op4j.github.com/issues" class="externalLink" title="Issue Tracking">Issue Tracking</a>
            |
                        <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
            |
                        <a href="https://github.com/op4j" class="externalLink" title="Github Project Page">Github Project Page</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>The op4j Project</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="· Main">· Main</a>
            </li>
                  <li class="none">
                          <a href="download.html" title="· Download">· Download</a>
            </li>
                  <li class="none">
                          <a href="maveninfo.html" title="· Maven Info">· Maven Info</a>
            </li>
                  <li class="none">
                          <a href="dependencies.html" title="· Dependencies">· Dependencies</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/op4j" class="externalLink" title="· Github Repository">· Github Repository</a>
            </li>
                  <li class="none">
                          <a href="http://www.bendingthejavaspoon.com" class="externalLink" title="· Example Recipes">· Example Recipes</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/op4j/op4j.github.com/issues" class="externalLink" title="· Issue Tracking">· Issue Tracking</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <li class="expanded">
                          <a href="#" title="· Documentation">· Documentation</a>
                    <ul>
                      <li class="none">
                          <a href="basics.html" title="· The Basics">· The Basics</a>
            </li>
                                                                                                                                                    <li class="expanded">
                          <a href="#" title="· Working with...">· Working with...</a>
                    <ul>
                      <li class="none">
                          <a href="arrays.html" title="· Arrays">· Arrays</a>
            </li>
                      <li class="none">
            <strong>· Lists</strong>
          </li>
                      <li class="none">
                          <a href="maps.html" title="· Maps">· Maps</a>
            </li>
                      <li class="none">
                          <a href="sets.html" title="· Sets">· Sets</a>
            </li>
                      <li class="none">
                          <a href="generic.html" title="· Any object (generic)">· Any object (generic)</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <li class="expanded">
                          <a href="#" title="· Functions">· Functions</a>
                    <ul>
                      <li class="none">
                          <a href="functions.html" title="· About Functions">· About Functions</a>
            </li>
                      <li class="none">
                          <a href="call.html" title="· Call">· Call</a>
            </li>
                      <li class="none">
                          <a href="get.html" title="· Get">· Get</a>
            </li>
                      <li class="none">
                          <a href="fnfunc.html" title="· FnFunc">· FnFunc</a>
            </li>
                      <li class="none">
                          <a href="fnboolean.html" title="· FnBoolean">· FnBoolean</a>
            </li>
                      <li class="none">
                          <a href="fncalendar.html" title="· FnCalendar">· FnCalendar</a>
            </li>
                      <li class="none">
                          <a href="fndate.html" title="· FnDate">· FnDate</a>
            </li>
                      <li class="none">
                          <a href="fnobject.html" title="· FnObject">· FnObject</a>
            </li>
                      <li class="none">
                          <a href="fnstring.html" title="· FnString">· FnString</a>
            </li>
                                                                                                                                                                                                <li class="expanded">
                          <a href="#" title="· Numbers">· Numbers</a>
                    <ul>
                      <li class="none">
                          <a href="fnnumber.html" title="· FnNumber">· FnNumber</a>
            </li>
                      <li class="none">
                          <a href="fnbigdecimal.html" title="· FnBigDecimal">· FnBigDecimal</a>
            </li>
                      <li class="none">
                          <a href="fnbiginteger.html" title="· FnBigInteger">· FnBigInteger</a>
            </li>
                      <li class="none">
                          <a href="fninteger.html" title="· FnInteger">· FnInteger</a>
            </li>
                      <li class="none">
                          <a href="fnlong.html" title="· FnLong">· FnLong</a>
            </li>
                      <li class="none">
                          <a href="fnfloat.html" title="· FnFloat">· FnFloat</a>
            </li>
                      <li class="none">
                          <a href="fndouble.html" title="· FnDouble">· FnDouble</a>
            </li>
                      <li class="none">
                          <a href="fndouble.html" title="· FnShort">· FnShort</a>
            </li>
              </ul>
        </li>
                                                                                                                                          <li class="expanded">
                          <a href="#" title="· Structures">· Structures</a>
                    <ul>
                      <li class="none">
                          <a href="fnarray.html" title="· FnArray">· FnArray</a>
            </li>
                      <li class="none">
                          <a href="fnlist.html" title="· FnList">· FnList</a>
            </li>
                      <li class="none">
                          <a href="fnmap.html" title="· FnMap">· FnMap</a>
            </li>
                      <li class="none">
                          <a href="fnset.html" title="· FnSet">· FnSet</a>
            </li>
                      <li class="none">
                          <a href="fntuple.html" title="· FnTuple">· FnTuple</a>
            </li>
              </ul>
        </li>
              </ul>
        </li>
                      <li class="none">
                          <a href="apidocs/op4j/index.html" title="· Javadoc">· Javadoc</a>
            </li>
                      <li class="none">
                          <a href="faq.html" title="· FAQ">· FAQ</a>
            </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="license.html" title="· License">· License</a>
            </li>
                  <li class="none">
                          <a href="team.html" title="· Team">· Team</a>
            </li>
          </ul>
                  <ul>
                                                                                                              <li class="collapsed">
                          <a href="ognl-about.html" title="· op4j-ognl">· op4j-ognl</a>
                  </li>
                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="jodatime-about.html" title="· op4j-jodatime">· op4j-jodatime</a>
                  </li>
          </ul>
                                                                                                                               <a href="http://maven.apache.org" title="Built with Maven 2" class="poweredBy">
        <img class="poweredBy"  alt="Built with Maven 2" src="http://maven.apache.org/images/logos/maven-feather.png"     />
      </a>
                       
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Working with lists<a name="Working_with_lists"></a></h2><p>This page explains how op4j can deal with list objects (objects implementing <tt>java.util.List&lt;T&gt;</tt>).</p><p>List input objects are considered immutable, so they will not be changed when used in an op4j expression and a new list will always be returned when executing <tt>get()</tt>.</p><p>This, however, does not apply to the input list element objects, which could be changed if you executed on them any functions which might change their state instead of substituting them for new elements.</p><ul><li><a href="#a1">Creating list expressions</a></li><li><a href="#a2">Converting to arrays, sets or maps</a></li><li><a href="#a3">Iterating</a></li><li><a href="#a4">Modifying</a></li><li><a href="#a5">Executing functions</a></li><li><a href="#a6">Mapping functions</a></li><li><a href="#a7">Selecting (conditional code)</a></li><li><a href="#a8">Replacing</a></li><li><a href="#a9">Removing duplicates</a></li><li><a href="#a10">Sorting</a></li><li><a href="#a11">Boolean conditions: all, any</a></li><li><a href="#a12">Reversing</a></li></ul><div class="section"><h3><a name="a1">1</a>. Creating list expressions<a name="a1._Creating_list_expressions"></a></h3><div class="section"><h4>Operation expressions<a name="Operation_expressions"></a></h4><p>There are two equivalent ways of creating an operation expression on a list. Just use the method you like most:</p><div class="source"><pre>List&lt;String&gt; list = ...;
Op.on(list)...
</pre></div><div class="source"><pre>List&lt;String&gt; list = ...;
Op.onList(list)...
</pre></div><div class="section"><h5>Creating lists from their elements<a name="Creating_lists_from_their_elements"></a></h5><p>List expressions can be created by directly specifying the list elements, like this:</p><div class="source"><pre>Op.onListFor(&quot;hello&quot;, &quot;ola&quot;, &quot;hola&quot;, &quot;hallo&quot;, &quot;ciao&quot;).forEach()...
</pre></div></div></div><div class="section"><h4>Function expressions<a name="Function_expressions"></a></h4><p>Function expressions are created as usual with other structures:</p><div class="source"><pre>// Create a function which receives a List&lt;String&gt; variable as input
function = Fn.onListOf(Types.STRING)...get();
</pre></div></div></div><div class="section"><h3><a name="a2">2</a>. Converting to arrays, sets or maps<a name="a2._Converting_to_arrays_sets_or_maps"></a></h3><div class="section"><h4>Arrays<a name="Arrays"></a></h4><p>For converting a list into an array:</p><div class="source"><pre>String[] array = Op.on(list).toArrayOf(Types.STRING).get();
</pre></div></div><div class="section"><h4>Sets<a name="Sets"></a></h4><p>For converting a list into a set:</p><div class="source"><pre>Set&lt;String&gt; set = Op.on(list).toSet().get();
</pre></div></div><div class="section"><h4>Maps<a name="Maps"></a></h4><div class="section"><h5>Using a Map Builder<a name="Using_a_Map_Builder"></a></h5><p>A Map Builder is an function which returns map entries (<tt>IFunction&lt;T,Map.Entry&lt;K,V&gt;&gt;</tt>), usually created by extending the abstract class <tt>org.op4j.functions.MapBuilder</tt>, and which provides op4j with a way of creating a map entry from each of the list's elements.</p><p><tt>MapBuilder</tt> looks like this:</p><div class="source"><pre>public abstract class MapBuilder&lt;T,K,V&gt; implements IFunction&lt;T,Map.Entry&lt;K,V&gt;&gt; {
    public abstract K buildKey(final T target);
    public abstract V buildValue(final T target);
    ...
}
</pre></div><p>...and using it is very easy: </p><div class="source"><pre>MapBuilder&lt;String,Integer,Calendar&gt; mapBuilder = ...;
Map&lt;Integer,Calendar&gt; map = Op.on(list).toMap(mapBuilder).get();
</pre></div><div class="section"><h6>Grouping using a Map Builder<a name="Grouping_using_a_Map_Builder"></a></h6><p>If one or more values can have the same key, you should create a <i>grouped map</i>, like:</p><div class="source"><pre>MapBuilder&lt;String,Integer,Calendar&gt; mapBuilder = ...;
Map&lt;Integer,List&lt;Calendar&gt;&gt; map = Op.on(list).toGroupMap(mapBuilder).get();
</pre></div></div></div><div class="section"><h5>Using two functions<a name="Using_two_functions"></a></h5><p>Instead of a <i>map builder</i> function, we could just use two functions instead, one for creating keys, and a different one for creating values:</p><div class="source"><pre>IFunction&lt;String,Integer&gt; keyFunction = ...;
IFunction&lt;String,Calendar&gt; valueFunction = ...;
Map&lt;Integer,Calendar&gt; map = Op.on(list).toMap(keyFunction, valueFunction).get();
</pre></div><div class="section"><h6>Grouping using two functions<a name="Grouping_using_two_functions"></a></h6><p>Again, if one or more values can have the same key, you should create a <i>grouped map</i>, like:</p><div class="source"><pre>IFunction&lt;String,Integer&gt; keyFunction = ...;
IFunction&lt;String,Calendar&gt; valueFunction = ...;
Map&lt;Integer,List&lt;Calendar&gt;&gt; map = Op.on(list).toGroupMap(keyFunction, valueFunction).get();
</pre></div></div></div><div class="section"><h5>Zipping keys or values<a name="Zipping_keys_or_values"></a></h5><p>A Map can also be created from a list by zipping. Zipping means combining the elements in the list with other objects like this:</p><div class="source"><pre>// map = {{1=&quot;a&quot;}, {2=&quot;b&quot;}}
Map&lt;Integer,String&gt; map = 
    Op.onListFor(1,2).zipValues(&quot;a&quot;,&quot;b&quot;).get();
</pre></div><p>...using a collection...</p><div class="source"><pre>Collection&lt;String&gt; values = {&quot;a&quot;, &quot;b&quot;};
// map = {{1=&quot;a&quot;}, {2=&quot;b&quot;}}
Map&lt;Integer,String&gt; map = 
    Op.onListFor(1,2).zipValuesFrom(values).get();
</pre></div><p>Or similarly:</p><div class="source"><pre>// map = {{&quot;a&quot;=1}, {&quot;b&quot;=2}}
Map&lt;String,Integer&gt; map = 
    Op.onListFor(1,2).zipKeys(&quot;a&quot;,&quot;b&quot;).get();
</pre></div><p>...using a collection...</p><div class="source"><pre>Collection&lt;String&gt; keys = {&quot;a&quot;, &quot;b&quot;};
// map = {{&quot;a&quot;=1}, {&quot;b&quot;=2}}
Map&lt;String,Integer&gt; map = 
    Op.onListFor(1,2).zipKeysFrom(keys).get();
</pre></div><p>Alternatively, a function can be used for evaluating existing elements and obtaining keys or values:</p><div class="source"><pre>IFunction&lt;Integer,String&gt; valueEvaluatorFn = ...;
Map&lt;Integer,String&gt; map = 
    Op.onListFor(1,2).zipValuesBy(valueEvaluatorFn).get();
</pre></div><div class="source"><pre>IFunction&lt;Integer,String&gt; keyEvaluatorFn = ...;
Map&lt;String,Integer&gt; map = 
    Op.onListFor(1,2).zipKeysBy(keyEvaluatorFn).get();
</pre></div><div class="section"><h6>Zipping and Grouping<a name="Zipping_and_Grouping"></a></h6><p>Collisions (entries with the same key) can be avoided when zipping by using <i>grouping</i> actions:</p><div class="source"><pre>// mapOfArrays = {{1=[&quot;a&quot;,&quot;c&quot;]}, {2=[&quot;b&quot;,&quot;d&quot;,&quot;e]}}
Map&lt;Integer,List&lt;String&gt;&gt; mapOfArrays = 
    Op.onListFor(1,2,1,2,2).zipAndGroupValues(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;).get();
</pre></div><div class="source"><pre>IFunction&lt;Integer,String&gt; keyEvaluatorFn = ...;
Map&lt;String,List&lt;Integer&gt;&gt; map = 
    Op.onListFor(1,2,3,4,5,6).zipAndGroupKeysBy(keyEvaluatorFn).get();
</pre></div></div></div><div class="section"><h5>Coupling<a name="Coupling"></a></h5><p>The third way to create a Map from a list is by &quot;coupling&quot; or alternating elements, this is, by considering even elements as keys and odd elements as values (starting with 0). This will mean of course that, for a <tt>List&lt;String&gt;</tt>, we will get a <tt>Map&lt;String,String&gt;</tt>.</p><div class="source"><pre>// map = {{&quot;a&quot;=&quot;X&quot;}, {&quot;b&quot;=&quot;Y&quot;}}
Map&lt;String,String&gt; map = 
    Op.onListFor(&quot;a&quot;,&quot;X&quot;,&quot;b&quot;,&quot;Y&quot;).couple().get();
</pre></div><div class="section"><h6>Coupling and Grouping<a name="Coupling_and_Grouping"></a></h6><p>Again, collisions can be avoided by grouping...</p><div class="source"><pre>// map = {{&quot;a&quot;=[&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;]}, {&quot;b&quot;=[&quot;1&quot;,&quot;2&quot;]}}
Map&lt;String,List&lt;String&gt;&gt; mapOfArray = 
    Op.onListFor(&quot;a&quot;,&quot;X&quot;,&quot;b&quot;,&quot;1&quot;,&quot;a&quot;,&quot;Y&quot;,&quot;a&quot;,&quot;Z&quot;,&quot;b&quot;,&quot;2&quot;).coupleAndGroup().get();
</pre></div></div></div></div></div><div class="section"><h3><a name="a3">3</a>. Iterating<a name="a3._Iterating"></a></h3><p>Lists can be iterated according to the following scheme:</p><div class="source"><pre>Op.on(list).forEach().[ELEMENT ACTIONS].get();
</pre></div><p>After the <i>forEach()</i> action, any action added to the expression chain will be applied, not on the list itself, but on each of its elements, and the result obtained when executing <tt>get()</tt> will be a list with the results of applying the subsequently chained actions on each of the list elements. </p><p>Iteration can be ended with the <tt>endFor()</tt> action:</p><div class="source"><pre>Op.on(list).forEach().[ELEMENT ACTIONS].endFor().[LIST ACTIONS].get();
</pre></div><p>The <i>endFor()</i> action allows the subsequent execution of actions acting again on the whole list, after having executed some actions on its elements by separate between <i>forEach()</i> and <i>endFor()</i>. For example:</p><div class="source"><pre>Set&lt;String&gt; set = Op.on(list).forEach().exec(FnString.toUpperCase()).endFor().toSet().get();
</pre></div></div><div class="section"><h3><a name="a4">4</a>. Modifying<a name="a4._Modifying"></a></h3><p>A list can be modified by adding or removing elements from it. </p><p>Several options for adding new elements at the end of a list:</p><div class="source"><pre>List&lt;String&gt; list = ...;
Collection&lt;String&gt; strCol = ...;
...
Op.on(list).add(&quot;new String&quot;)...
Op.on(list).addAll(&quot;new String&quot;, &quot;another new String&quot;)...
Op.on(list).addAll(strCol)...
</pre></div><p>New elements can also be inserted into a specific position. Positions start with 0.</p><div class="source"><pre>List&lt;String&gt; list = ...;
...
Op.on(list).insert(2, &quot;new string&quot;)...
Op.on(list).insertAll(2, &quot;new String&quot;, &quot;another new String&quot;)...
</pre></div><p>Removal of elements can be done in several ways. Elements can be removed attending to their position inside the list:</p><div class="source"><pre>Op.on(list).removeAllIndexes(2,3,5)...
Op.on(list).insertAllIndexesNot(2,3,5)...
</pre></div><p>Also attending to their value:</p><div class="source"><pre>Op.on(list).removeAllEqual(&quot;Coast&quot;, &quot;Mountain&quot;)...
</pre></div><p>Nulls can be removed easily: </p><div class="source"><pre>Op.on(list).removeAllNull()...
</pre></div><p>And finally a function returning <tt>Boolean</tt> can be used as evaluator to determine whether an element should be removed or not, in several ways:</p><div class="source"><pre>List&lt;String&gt; list = ...;
IFunction&lt;String,Boolean&gt; eval = ...;
...
Op.on(list).removeAllTrue(eval)...
Op.on(list).removeAllFalse(eval)...
Op.on(list).removeAllNullOrTrue(eval)...
Op.on(list).removeAllNullOrFalse(eval)...
Op.on(list).removeAllNotNullAndTrue(eval)...
Op.on(list).removeAllNotNullAndFalse(eval)...
</pre></div></div><div class="section"><h3><a name="a5">5</a>. Executing functions<a name="a5._Executing_functions"></a></h3><div class="section"><h4>Executing functions on the list elements<a name="Executing_functions_on_the_list_elements"></a></h4><p>Functions can be executed on each of the list elements after a <i>forEach()</i> action:</p><div class="source"><pre>List&lt;String&gt; list = ...;
...
List&lt;String&gt; newList = Op.on(list).forEach().exec(FnString.toUpperCase()).get();
</pre></div><p>A condition can be added for conditional execution, if needed:</p><div class="source"><pre>List&lt;String&gt; list = ...;
...
List&lt;Integer&gt; newList = Op.on(list).forEach().execIfNotNull(FnString.toInteger()).get();
</pre></div><div class="source"><pre>List&lt;String&gt; list = ...;
IFunction&lt;String,Boolean&gt; condition = ...;
IFunction&lt;String,String&gt; myFunction = ...;
...
Op.on(list).forEach().execIfTrue(condition, myFunction)...
</pre></div><p>...an <i>else</i> side can it also be added, in which case the expression can change the type of the operator: </p><div class="source"><pre>List&lt;String&gt; list = ...;
IFunction&lt;String,Boolean&gt; condition = ...;
IFunction&lt;String,Integer&gt; myThenFunction = ...;
IFunction&lt;String,Integer&gt; myElseFunction = ...;
...
List&lt;Integer&gt; newList =  
    Op.on(list).forEach().execIfTrue(condition, myThenFunction, myElseFunction).get();
</pre></div></div><div class="section"><h4>Executing functions on the whole list<a name="Executing_functions_on_the_whole_list"></a></h4><p>If a list has not been iterated (<i>forEach()</i>) (or it has, but <i>endFor()</i> has been called), functions can be executed on the whole list. </p><p>There are three ways of executing functions on a list as a whole:</p><ul><li>Executions which return a list (example: List&lt;String&gt; -&gt; List&lt;String&gt; or List&lt;String&gt; -&gt; List&lt;Integer&gt;)</li><li>Executions which do not return a list (example: List&lt;String&gt; -&gt; Calendar)</li></ul><div class="section"><h5>Returning a list<a name="Returning_a_list"></a></h5><p>Functions will be executed using the <tt>execAsList(...)</tt> action:</p><div class="source"><pre>List&lt;String&gt; list = ...;
IFunction&lt;List&lt;String&gt;,List&lt;Integer&gt;&gt; myFunction = ...;
...
Op.on(list).execAsList(myFunction)...
</pre></div><p>A conditional check can be added (null, not null, condition true, condition false): </p><div class="source"><pre>List&lt;String&gt; list = ...;
IFunction&lt;List&lt;String&gt;,List&lt;Integer&gt;&gt; myFunction = ...;
...
Op.on(list).execIfNotNullAsList(myFunction)...
</pre></div></div><div class="section"><h5>Not returning a list<a name="Not_returning_a_list"></a></h5><div class="source"><pre>List&lt;String&gt; list = ...;
Calendar calendar =
    Op.on(list).exec(FnCalendar.fieldStringListToCalendar()).get();
</pre></div></div></div></div><div class="section"><h3><a name="a6">6</a>. Mapping functions<a name="a6._Mapping_functions"></a></h3><p><i>Mapping</i> a list is the equivalent to iterating it, applying a function to each of its elements and then ending the iteration:</p><div class="source"><pre>Op.on(list).map(function).get();
</pre></div><p>Is equivalent to:</p><div class="source"><pre>Op.on(list).forEach().exec(function).endFor().get();
</pre></div><p>For example:</p><div class="source"><pre>List&lt;String&gt; list = ...;
...
List&lt;BigDecimal&gt; newList = 
    Op.on(list).map(FnString.toBigDecimal(DecimalPoint.IS_COMMA)).get();
</pre></div><p>A null condition on each of the list elements can be added for <i>null-saving</i> a function execution, if needed:</p><div class="source"><pre>List&lt;String&gt; list = ...;
IFunction&lt;String,String&gt; myFunction = ...;
...
Op.on(list).mapIfNotNull(myFunction)...
</pre></div></div><div class="section"><h3><a name="a7">7</a>. Selecting (conditional code)<a name="a7._Selecting_conditional_code"></a></h3><p>op4j allows the conditional execution of actions. Once the condition (an action starting with &quot;<tt>if</tt>&quot;) is executed, all subsequent actions will apply only on the selected parts of the target object.</p><p>For example, lets convert into upper case only the first String element of the list:</p><div class="source"><pre>List&lt;String&gt; newList = Op.on(list).forEach().ifIndex(0).exec(FnString.toUpperCase()).get();
</pre></div><p>Selections can be ended with <tt>endIf(...)</tt>:</p><div class="source"><pre>List&lt;String&gt; newList = 
    Op.on(list).forEach().ifIndex(0,1,3).[ACTIONS ON SELECTED ELEMENTS].endIf()...
</pre></div><div class="section"><h4>Selecting specific list elements <a name="Selecting_specific_list_elements"></a></h4><p>If a selection is executed after an iteration, it will be applied on the list elements.</p><p>Selection can be done on the element's position in the list:</p><div class="source"><pre>Op.on(list).forEach().ifIndex(0,2,3)....
Op.on(list).forEach().ifIndexNot(0,1,5)....
</pre></div><p>Selection can also be based on the nullity of the element: </p><div class="source"><pre>Op.on(list).forEach().ifNull()....
Op.on(list).forEach().ifNotNull()....
</pre></div><p>And also on the value returned by the evaluation of a function returning <tt>Boolean</tt>:</p><div class="source"><pre>List&lt;String&gt; list = ...;
IFunction&lt;String,Boolean&gt; eval = ...;
...
Op.on(list).forEach().ifTrue(eval)...
Op.on(list).forEach().ifFalse(eval)...
</pre></div></div><div class="section"><h4>Selecting the list as a whole <a name="Selecting_the_list_as_a_whole"></a></h4><p>Selection can also be performed on the list itself as a whole, effectively deciding whether subsequent actions will be executed at all or not. </p><div class="source"><pre>List&lt;String&gt; list = ...;
IFunction&lt;List&lt;String&gt;,Boolean&gt; eval = ...;
...
Op.on(list).ifNull()....
Op.on(list).ifNotNull()....
Op.on(list).ifTrue(eval)...
Op.on(list).ifFalse(eval)...
</pre></div></div><div class="section"><h4>Restricions on execution actions after selection<a name="Restricions_on_execution_actions_after_selection"></a></h4><p>After executing a selection action, function executed by means of a <i>map</i> or an <i>exec</i> action cannot change the list type (i.e., a <tt>List&lt;String&gt;</tt> must remain <tt>List&lt;String&gt;</tt>.</p><p>So this would not be valid:</p><div class="source"><pre>// Will not compile!
List&lt;String&gt; newList = 
    Op.on(list).forEach().ifIndex(0,1,3).exec(FnString.toInteger()).get();
</pre></div><p>...because converting only <i>some</i> of the list elements to integer would render the list type inconsistent (some elements would be <tt>String</tt>, some other <tt>Integer</tt>).</p><p>This is perfectly valid, though:</p><div class="source"><pre>// FnString.toUpperCase is IFunction&lt;String,String&gt;
List&lt;String&gt; newArray = 
    Op.on(list).forEach().ifIndex(0,1,3).exec(FnString.toUpperCase()).get();
</pre></div></div></div><div class="section"><h3><a name="a8">8</a>. Replacing<a name="a8._Replacing"></a></h3><p>List elements (or the list itself) can be replaced by other objects:</p><div class="source"><pre>List&lt;String&gt; newList = 
    Op.on(list).forEach().ifNull().replaceWith(&quot;[no value]&quot;).get();
</pre></div><p>...which is equivalent to:</p><div class="source"><pre>List&lt;String&gt; newList = 
    Op.on(list).forEach().replaceIfNullWith(&quot;[no value]&quot;).get();
</pre></div></div><div class="section"><h3><a name="a9">9</a>. Removing duplicates<a name="a9._Removing_duplicates"></a></h3><p>Lists can contain duplicate elements, which can be removed by executing a <i>distinct()</i> action:</p><div class="source"><pre>List&lt;String&gt; newList = Op.on(list).distinct().get();
</pre></div></div><div class="section"><h3><a name="a10">10</a>. Sorting<a name="a10._Sorting"></a></h3><p>Lists can be sorted, both using a comparator or <i>natural order</i>:</p><div class="source"><pre>List&lt;String&gt; newList = Op.on(list).sort().get();
</pre></div><div class="source"><pre>Comparator&lt;String&gt; comparator = ...;
List&lt;String&gt; newList = Op.on(list).sort(comparator).get();
</pre></div><p>Also, lists can be sorted not by the elements themselves, but by the result of executing a function on the array elements:</p><div class="source"><pre>IFunction&lt;String, Comparable&lt;?&gt;&gt; function = ...;
List&lt;String&gt; newList = Op.on(list).sortBy(function).get();
</pre></div></div><div class="section"><h3><a name="a11">11</a>. Boolean conditions: all, any<a name="a11._Boolean_conditions:_all_any"></a></h3><p>Lists can be applied two boolean conditions: <tt>all</tt> and <tt>any</tt>. They both need a function which will be applied to each element of the array.</p><p><tt>all(function)</tt> will return <i>TRUE</i> if the result of executing <tt>function</tt> on all the elements of the list is <i>TRUE</i>:</p><div class="source"><pre>IFunction&lt;String, Boolean&gt; function = ...;
Boolean allTrue = Op.on(list).all(function).get();
</pre></div><p><tt>any(function)</tt> will return <i>TRUE</i> if the result of executing <tt>function</tt> on any the elements of the list is <i>TRUE</i>:</p><div class="source"><pre>IFunction&lt;String, Boolean&gt; function = ...;
Boolean anyTrue = Op.on(list).any(function).get();
</pre></div></div><div class="section"><h3><a name="a12">12</a>. Reversing<a name="a12._Reversing"></a></h3><p>Lists can be reversed, so that the order of its elements gets inverted:</p><div class="source"><pre>  // list = 5,3,4,2
  List&lt;Integer&gt; list = Op.onListFor(2,4,3,5).reverse().get();
</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2012
                        <a href="http://www.op4j.org">The OP4J team</a>.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
