<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at May 18, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>op4j: bending the Java spoon - Functions: FnOgnl</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120518" />
    <meta http-equiv="Content-Language" content="en" />
                                                    
<script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script>
                                                        
<script type="text/javascript">try {
          var pageTracker = _gat._getTracker("UA-1276954-6");
          pageTracker._trackPageview();
        } catch(err) {}</script>
                      
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="./" id="bannerLeft">
                                                <img src="images/op4j_logo.png" alt="op4j: bending the Java spoon" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 18 May 2012</span>
                  &nbsp;| <span id="projectVersion">Version: 1.2</span>
                      </div>
            <div class="xright">                    <a href="index.html" title="Main">Main</a>
            |
                        <a href="download.html" title="Download">Download</a>
            |
                        <a href="http://www.bendingthejavaspoon.com" class="externalLink" title="Example Recipes Blog">Example Recipes Blog</a>
            |
                        <a href="https://github.com/op4j/op4j.github.com/issues" class="externalLink" title="Issue Tracking">Issue Tracking</a>
            |
                        <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
            |
                        <a href="https://github.com/op4j" class="externalLink" title="Github Project Page">Github Project Page</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>The op4j Project</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="· Main">· Main</a>
            </li>
                  <li class="none">
                          <a href="download.html" title="· Download">· Download</a>
            </li>
                  <li class="none">
                          <a href="maveninfo.html" title="· Maven Info">· Maven Info</a>
            </li>
                  <li class="none">
                          <a href="dependencies.html" title="· Dependencies">· Dependencies</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/op4j" class="externalLink" title="· Github Repository">· Github Repository</a>
            </li>
                  <li class="none">
                          <a href="http://www.bendingthejavaspoon.com" class="externalLink" title="· Example Recipes">· Example Recipes</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/op4j/op4j.github.com/issues" class="externalLink" title="· Issue Tracking">· Issue Tracking</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <li class="expanded">
                          <a href="#" title="· Documentation">· Documentation</a>
                    <ul>
                      <li class="none">
                          <a href="basics.html" title="· The Basics">· The Basics</a>
            </li>
                                                                                                                                          <li class="expanded">
                          <a href="#" title="· Working with...">· Working with...</a>
                    <ul>
                      <li class="none">
                          <a href="arrays.html" title="· Arrays">· Arrays</a>
            </li>
                      <li class="none">
                          <a href="lists.html" title="· Lists">· Lists</a>
            </li>
                      <li class="none">
                          <a href="maps.html" title="· Maps">· Maps</a>
            </li>
                      <li class="none">
                          <a href="sets.html" title="· Sets">· Sets</a>
            </li>
                      <li class="none">
                          <a href="generic.html" title="· Any object (generic)">· Any object (generic)</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <li class="expanded">
                          <a href="#" title="· Functions">· Functions</a>
                    <ul>
                      <li class="none">
                          <a href="functions.html" title="· About Functions">· About Functions</a>
            </li>
                      <li class="none">
                          <a href="call.html" title="· Call">· Call</a>
            </li>
                      <li class="none">
                          <a href="get.html" title="· Get">· Get</a>
            </li>
                      <li class="none">
                          <a href="fnfunc.html" title="· FnFunc">· FnFunc</a>
            </li>
                      <li class="none">
                          <a href="fnboolean.html" title="· FnBoolean">· FnBoolean</a>
            </li>
                      <li class="none">
                          <a href="fncalendar.html" title="· FnCalendar">· FnCalendar</a>
            </li>
                      <li class="none">
                          <a href="fndate.html" title="· FnDate">· FnDate</a>
            </li>
                      <li class="none">
                          <a href="fnobject.html" title="· FnObject">· FnObject</a>
            </li>
                      <li class="none">
                          <a href="fnstring.html" title="· FnString">· FnString</a>
            </li>
                                                                                                                                                                                                <li class="expanded">
                          <a href="#" title="· Numbers">· Numbers</a>
                    <ul>
                      <li class="none">
                          <a href="fnnumber.html" title="· FnNumber">· FnNumber</a>
            </li>
                      <li class="none">
                          <a href="fnbigdecimal.html" title="· FnBigDecimal">· FnBigDecimal</a>
            </li>
                      <li class="none">
                          <a href="fnbiginteger.html" title="· FnBigInteger">· FnBigInteger</a>
            </li>
                      <li class="none">
                          <a href="fninteger.html" title="· FnInteger">· FnInteger</a>
            </li>
                      <li class="none">
                          <a href="fnlong.html" title="· FnLong">· FnLong</a>
            </li>
                      <li class="none">
                          <a href="fnfloat.html" title="· FnFloat">· FnFloat</a>
            </li>
                      <li class="none">
                          <a href="fndouble.html" title="· FnDouble">· FnDouble</a>
            </li>
                      <li class="none">
                          <a href="fndouble.html" title="· FnShort">· FnShort</a>
            </li>
              </ul>
        </li>
                                                                                                                                          <li class="expanded">
                          <a href="#" title="· Structures">· Structures</a>
                    <ul>
                      <li class="none">
                          <a href="fnarray.html" title="· FnArray">· FnArray</a>
            </li>
                      <li class="none">
                          <a href="fnlist.html" title="· FnList">· FnList</a>
            </li>
                      <li class="none">
                          <a href="fnmap.html" title="· FnMap">· FnMap</a>
            </li>
                      <li class="none">
                          <a href="fnset.html" title="· FnSet">· FnSet</a>
            </li>
                      <li class="none">
                          <a href="fntuple.html" title="· FnTuple">· FnTuple</a>
            </li>
              </ul>
        </li>
              </ul>
        </li>
                      <li class="none">
                          <a href="apidocs/op4j/index.html" title="· Javadoc">· Javadoc</a>
            </li>
                      <li class="none">
                          <a href="faq.html" title="· FAQ">· FAQ</a>
            </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="license.html" title="· License">· License</a>
            </li>
                  <li class="none">
                          <a href="team.html" title="· Team">· Team</a>
            </li>
          </ul>
                  <ul>
                                                                                                                        <li class="expanded">
                          <a href="ognl-about.html" title="· op4j-ognl">· op4j-ognl</a>
                    <ul>
                                                                            <li class="expanded">
                          <a href="#" title="· Functions">· Functions</a>
                    <ul>
                      <li class="none">
            <strong>· FnOgnl</strong>
          </li>
              </ul>
        </li>
                      <li class="none">
                          <a href="apidocs/op4j-ognl/index.html" title="· Javadoc">· Javadoc</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="jodatime-about.html" title="· op4j-jodatime">· op4j-jodatime</a>
                  </li>
          </ul>
                                                                                                                               <a href="http://maven.apache.org" title="Built with Maven 2" class="poweredBy">
        <img class="poweredBy"  alt="Built with Maven 2" src="http://maven.apache.org/images/logos/maven-feather.png"     />
      </a>
                       
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Functions: FnOgnl<a name="Functions:_FnOgnl"></a></h2><p><tt>org.op4j.ognl.functions.FnOgnl</tt> is a special functions hub class which allows the execution of OGNL (Object-Graph Navigation Language) expressions on target objects.</p><p>Here is an example: Imagine your application has a <tt>User</tt> class which contains a <tt>getName()</tt> method, returning a String. Let's get the names of all the users in a list:</p><div class="source"><pre>List&lt;User&gt; users = ...;
List&lt;String&gt; userNames = Op.on(users).map(FnOgnl.evalForString(&quot;name&quot;)).get();
</pre></div><p>The <i>evalForX(...)</i> methods in the <tt>FnOgnl</tt> class give you access to the following functions:</p><table border="0" class="bodyTable"><tr class="a"><td align="left"><b>Method</b></td><td align="left"><b>Returned function type</b></td></tr><tr class="b"><td align="left"><tt>evalForBigDecimal(...)</tt></td><td align="left"><tt>Function&lt;Object,BigDecimal&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForBigInteger(...)</tt></td><td align="left"><tt>Function&lt;Object,BigInteger&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalForBoolean(...)</tt></td><td align="left"><tt>Function&lt;Object,Boolean&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForByte(...)</tt></td><td align="left"><tt>Function&lt;Object,Byte&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalForCalendar(...)</tt></td><td align="left"><tt>Function&lt;Object,Calendar&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForCharacter(...)</tt></td><td align="left"><tt>Function&lt;Object,Character&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalForDate(...)</tt></td><td align="left"><tt>Function&lt;Object,Date&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForDouble(...)</tt></td><td align="left"><tt>Function&lt;Object,Double&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalForFloat(...)</tt></td><td align="left"><tt>Function&lt;Object,Float&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForInteger(...)</tt></td><td align="left"><tt>Function&lt;Object,Integer&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalForLong(...)</tt></td><td align="left"><tt>Function&lt;Object,Long&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForObject(...)</tt></td><td align="left"><tt>Function&lt;Object,Object&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalForShort(...)</tt></td><td align="left"><tt>Function&lt;Object,Short&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForString(...)</tt></td><td align="left"><tt>Function&lt;Object,String&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalFor(Type&lt;T&gt;,...)</tt></td><td align="left"><tt>Function&lt;Object,T&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForArrayOf(Type&lt;T&gt;,...)</tt></td><td align="left"><tt>Function&lt;Object,T[]&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalForArrayOfString(...)</tt></td><td align="left"><tt>Function&lt;Object,String[]&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForListOf(Type&lt;T&gt;,...)</tt></td><td align="left"><tt>Function&lt;Object,List&lt;T&gt;&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalForListOfString(...)</tt></td><td align="left"><tt>Function&lt;Object,List&lt;String&gt;&gt;</tt></td></tr><tr class="a"><td align="left"><tt>evalForSetOf(Type&lt;T&gt;,...)</tt></td><td align="left"><tt>Function&lt;Object,Set&lt;T&gt;&gt;</tt></td></tr><tr class="b"><td align="left"><tt>evalForSetOfString(...)</tt></td><td align="left"><tt>Function&lt;Object,Set&lt;String&gt;&gt;</tt></td></tr></table><p>There also exist more convenient abbreviated methods, which are:</p><table border="0" class="bodyTable"><tr class="a"><td align="left"><b>Method</b></td><td align="left"><b>Returned function type</b></td></tr><tr class="b"><td align="left"><tt>bigDecimal(...)</tt></td><td align="left"><tt>Function&lt;Object,BigDecimal&gt;</tt></td></tr><tr class="a"><td align="left"><tt>bigInteger(...)</tt></td><td align="left"><tt>Function&lt;Object,BigInteger&gt;</tt></td></tr><tr class="b"><td align="left"><tt>bool(...)</tt></td><td align="left"><tt>Function&lt;Object,Boolean&gt;</tt></td></tr><tr class="a"><td align="left"><tt>calendar(...)</tt></td><td align="left"><tt>Function&lt;Object,Calendar&gt;</tt></td></tr><tr class="b"><td align="left"><tt>c(...)</tt></td><td align="left"><tt>Function&lt;Object,Character&gt;</tt></td></tr><tr class="a"><td align="left"><tt>date(...)</tt></td><td align="left"><tt>Function&lt;Object,Date&gt;</tt></td></tr><tr class="b"><td align="left"><tt>d(...)</tt></td><td align="left"><tt>Function&lt;Object,Double&gt;</tt></td></tr><tr class="a"><td align="left"><tt>f(...)</tt></td><td align="left"><tt>Function&lt;Object,Float&gt;</tt></td></tr><tr class="b"><td align="left"><tt>i(...)</tt></td><td align="left"><tt>Function&lt;Object,Integer&gt;</tt></td></tr><tr class="a"><td align="left"><tt>l(...)</tt></td><td align="left"><tt>Function&lt;Object,Long&gt;</tt></td></tr><tr class="b"><td align="left"><tt>obj(...)</tt></td><td align="left"><tt>Function&lt;Object,Object&gt;</tt></td></tr><tr class="a"><td align="left"><tt>shr(...)</tt></td><td align="left"><tt>Function&lt;Object,Short&gt;</tt></td></tr><tr class="b"><td align="left"><tt>s(...)</tt></td><td align="left"><tt>Function&lt;Object,String&gt;</tt></td></tr><tr class="a"><td align="left"><tt>obj(Type&lt;T&gt;,...)</tt></td><td align="left"><tt>Function&lt;Object,T&gt;</tt></td></tr><tr class="b"><td align="left"><tt>arrayOf(Type&lt;T&gt;)</tt></td><td align="left"><tt>Function&lt;Object,T[]&gt;</tt></td></tr><tr class="a"><td align="left"><tt>arrayOfString()</tt></td><td align="left"><tt>Function&lt;Object,String[]&gt;</tt></td></tr><tr class="b"><td align="left"><tt>listOf(Type&lt;T&gt;)</tt></td><td align="left"><tt>Function&lt;Object,List&lt;T&gt;&gt;</tt></td></tr><tr class="a"><td align="left"><tt>listOfString()</tt></td><td align="left"><tt>Function&lt;Object,List&lt;String&gt;&gt;</tt></td></tr><tr class="b"><td align="left"><tt>setOf(Type&lt;T&gt;)</tt></td><td align="left"><tt>Function&lt;Object,Set&lt;T&gt;&gt;</tt></td></tr><tr class="a"><td align="left"><tt>setOfString()</tt></td><td align="left"><tt>Function&lt;Object,Set&lt;String&gt;&gt;</tt></td></tr></table><p>Every <i>evalFor(...)</i> or abbreviated method can be passed parameters, and these can be accessed from the OGNL expression as an array called <tt>#param</tt>: </p><div class="source"><pre>List&lt;User&gt; users = ...;
Group group = ...;
...
List&lt;User&gt; usersInGroup = 
    Op.on(users).removeAllFalse(FnOgnl.evalForBoolean(&quot;isInGroup(#param[0])&quot;, group).get();
</pre></div><p>Also the iteration index can be accessed when iterating a structure (array, list, map or set), by means of an expression variable called <tt>#index</tt>:</p><div class="source"><pre>List&lt;User&gt; users = ...;
...
List&lt;String&gt; indexedNames = 
    Op.on(users).forEach().exec(FnOgnl.s(&quot;#index + '$' + #target.name&quot;)).get();
</pre></div><p><tt>#target</tt> is the target object itself. This expression variable is useful when the OGNL expression does not use the target object as an expression root (as was the case with, for example, the <tt>&quot;name&quot;</tt> expression in the first example above).</p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2012
                        <a href="http://www.op4j.org">The OP4J team</a>.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
